{{define "content"}}
<body>
    <div class="page-container">
        <!-- Separate tabs navigation -->
        <div class="tabs-container">
            <div class="tabs">
                <button class="tab-button active" data-tab="search">Поиск</button>
                <button class="tab-button" data-tab="new-tenant">Создание нового тенанта</button>
                <button class="tab-button" data-tab="tenant-mod">Создание пользователя/бакета в существующем тенанте</button>
                <button class="tab-button" data-tab="user-bucket-del">Удаление пользователя/бакета в существующем тенанте</button>
                <button class="tab-button" data-tab="bucket-mod">Изменение квоты бакета</button>
            </div>
        </div>

        <div class="content-container">
            <div class="form-container">
                <h1>Детали запроса</h1>
                <div class="tab-content">
                    <!-- Search Tab -->
                    <div id="search" class="tab-pane active">
                        <form id="searchForm">
                            <div class="search-fields">
                                <div class="search-field">
                                    <label for="search_segment">Зона безопасности:</label>
                                    <input type="text" id="search_segment" name="search_segment">
                                </div>

                                <div class="search-field">
                                    <label for="search_env">Среда:</label>
                                    <select id="search_env" name="search_env">
                                        <option value="">Все</option>
                                        <option value="PROD">PROD</option>
                                        <option value="PREPROD">PREPROD</option>
                                        <option value="IFT">IFT</option>
                                        <option value="HOTFIX">HOTFIX</option>
                                    </select>
                                </div>

                                <div class="search-field">
                                    <label for="search_ris_number">РИС номер:</label>
                                    <input type="text" id="search_ris_number" name="search_ris_number">
                                </div>

                                <div class="search-field">
                                    <label for="search_ris_name">РИС имя:</label>
                                    <input type="text" id="search_ris_name" name="search_ris_name">
                                </div>

                                <div class="search-field">
                                    <label for="search_tenant">Имя тенанта:</label>
                                    <input type="text" id="search_tenant" name="search_tenant">
                                </div>

                                <div class="search-field">
                                    <label for="search_bucket">Имя бакета:</label>
                                    <input type="text" id="search_bucket" name="search_bucket">
                                </div>

                                <div class="search-field">
                                    <label for="search_user">Имя пользователя:</label>
                                    <input type="text" id="search_user" name="search_user">
                                </div>
                            </div>

                            <div class="search-controls">
                                <button type="button" id="searchButton" class="search-button">Поиск</button>
                                <button type="button" id="clearSearchButton" class="clear-search-button">Очистить</button>
                            </div>
                        </form>
                    </div>

                    <!-- New Tenant Tab -->
                    <div id="new-tenant" class="tab-pane">
                        <form id="zayavkiForm">
                            <button type="button" id="importJsonButton" class="import-json-button">Импорт данных из JSON</button>

                            <label for="request_id_srt">Номер задания SRT:</label>
                            <input type="text" id="request_id_srt" name="request_id_srt" pattern="SRT-.*" autocomplete="off" data-custom-tabindex="2" required>

                            <label for="request_id_sd">Номер обращения SD:</label>
                            <input type="text" id="request_id_sd" name="request_id_sd" pattern="SD-.*" autocomplete="off" data-custom-tabindex="1" required>

                            <label for="segment">Зона безопасности:</label>
                            <input type="text" id="segment" name="segment" data-custom-tabindex="3" required>

                            <label for="env">Среда:</label>
                            <select id="env" name="env" required>
                                <option value="">Выберите значение</option>
                                <option value="PROD">PROD</option>
                                <option value="PREPROD">PREPROD</option>
                                <option value="IFT">IFT</option>
                                <option value="HOTFIX">HOTFIX</option>
                            </select>

                            <label for="ris_number">РИС номер:</label>
                            <input type="text" id="ris_number" name="ris_number" autocomplete="off" data-custom-tabindex="4" required>

                            <label for="ris_name">РИС имя:</label>
                            <input type="text" id="ris_name" name="ris_name" autocomplete="off" data-custom-tabindex="5" required>

                            <label for="resp_group">Группа сопровождения:</label>
                            <input type="text" id="resp_group" name="resp_group" autocomplete="off" data-custom-tabindex="6" required>

                            <label for="owner">Владелец; Замещающий владелец:</label>
                            <input type="text" id="owner" name="owner" autocomplete="off" data-custom-tabindex="7" required>

                            <label for="requester">Заявитель:</label>
                            <input type="text" id="requester" name="requester" autocomplete="off" data-custom-tabindex="8" required>

                            <label for="email_for_credentials">Email для передачи учетных данных:</label>
                            <input type="email" id="email_for_credentials" name="email_for_credentials" autocomplete="off" data-custom-tabindex="9" required>

                            <label for="tenant_override">Имя тенанта (override):</label>
                            <input type="text" id="tenant_override" name="tenant_override" autocomplete="off" data-custom-tabindex="11">

                            <input type="hidden" name="create_tenant" value="true">

                            <label for="buckets">Бакеты (один в строке + объем):</label>
                            <textarea id="buckets" name="buckets" rows="3" data-custom-tabindex="11"></textarea></textarea>

                            <label for="users">Пользователи (один в строке):</label>
                            <textarea id="users" name="users" rows="3" data-custom-tabindex="12"></textarea></textarea>

                            <button type="submit" class="submit-button">Отправить</button> 
                            <button type="button" id="pushDbButton" class="push-db-button" disabled>Отправить в БД</button>
                            <button type="button" id="clearAllButton" class="clear-fields-button" disabled>Очистить все поля</button>
                        </form>
                    </div>

                    <!-- Other tabs will be implemented later -->
                    <div id="tenant-mod" class="tab-pane">
                        <p>Функционал в разработке</p>
                    </div>

                    <div id="user-bucket-del" class="tab-pane">
                        <p>Функционал в разработке</p>
                    </div>

                    <div id="bucket-mod" class="tab-pane">
                        <p>Функционал в разработке</p>
                    </div>
                </div>
            </div>

            <div class="results-container">
                <h2>Результат</h2>
                <div id="result"></div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="clusterModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Выберите кластер</h2>
                <span class="close-button">&times;</span>
            </div>
            <div class="modal-body">
                <select id="cluster-select">
                </select>
                <div id="cluster-details">
                    <div class="cluster-row"><span class="label">Выдача:</span><span class="value"></span></div>
                    <div class="cluster-row"><span class="label">ЦОД:</span><span class="value"></span></div>
                    <div class="cluster-row"><span class="label">Среда:</span><span class="value"></span></div>
                    <div class="cluster-row"><span class="label">ЗБ:</span><span class="value"></span></div>
                    <div class="cluster-row"><span class="label">Кластер:</span><span class="value"></span></div>
                    <div class="cluster-row"><span class="label">Реалм:</span><span class="value"></span></div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="confirm-cluster" class="confirm-button">Подтвердить</button>
            </div>
        </div>
    </div>

    <div id="jsonImportModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Импорт данных из JSON</h2>
                <span class="close-button">&times;</span>
            </div>
            <div class="modal-body">
                <div class="json-input-group">
                    <label for="srt_json">JSON SRT:</label>
                    <div class="json-description">Что бы получить JSON необходимо с помощью браузера перейти по адресу: https://sfera.vtb.ru/app/sr/api/v0.1/entities/SRT-$NUMBER</div>
                    <textarea id="srt_json" name="srt_json" rows="5" placeholder="Вставьте JSON SRT..." spellcheck="false"></textarea>
                </div>
                <div class="json-input-group">
                    <label for="params_json">JSON с параметрами SRT:</label>
                    <div class="json-description">Что бы получить JSON необходимо с помощью браузера перейти по адресу: https://sfera.vtb.ru/app/sr/api/v0.1/entities/SRT-$NUMBER/parameters</div>
                    <textarea id="params_json" name="params_json" rows="5" placeholder="Вставьте JSON с параметрами SRT..." spellcheck="false"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button id="confirmJsonImport" class="confirm-button">Подтвердить</button>
            </div>
        </div>
    </div>
{{end}}