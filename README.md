# Info
Тулза zayavki.exe для помощи в оформлении и выполнении запросов cspp на создание пользователей/бакетов/тенантов S3.

## Installation
Не требует установки, запуск по двойному клику или из терминала.
Обязательно наличие в папке запуска файла request.txt **(в encoding UTF-8)** с вводными данными и файла clusters.xlsx с таблицей кластеров.
При запуске по двойному клику на текущий момент не реализован вывод валидации вводных данных,
для отображения ошибок валидации требуется запуск в терминале

## Usage
Подготовить в файл request.txt (пример в репозитории) используя данные из заявки
Пояснения по строкам:

**request_id_sm** - id обращения в SM  
**request_id_sf** - id обращения в SFERA  
**segment** - cегмент безопасности  
**env**- окружение   
**ris_code** - РИС код системы  
**ris_name** - РИС имя системы  
**resp_group** - группа ответственная за эксплуатацию  
**owner** - владелец бакета  
**create_tenant** - требуется ли создать тенант, True/False (нужно указывать что бы он попал в таблицу и в письмо)
**override_tenant** - если тенант уже существует и не соответствует нашему шаблону его имя можно указать тут, будет использовано вместо сгенерированного
**requester** - заявитель (фио,почта)  
**email_for_credentials** - почта для отправки ключей от УЗ 

**buckets** - Список бакетов _#FYI: каждый бакет это новая строка в формате $имябакета $квота_  
  
**users** - Список пользователей _#FYI: каждый пользователь новая строка;  
  



## Results
В  выводе получаем файл results.txt в котором  
1)Блок данных "Table of users and buckets" - строки для внесения в таблицу пользователей на VTBox, при копировании из файла сохраняется форматирование для таблицы  
2)Блок данных "List of terminal commands" - список команд для создания бакетов,пользователей включая владельца тенанта + команда для проверки результата (список бакетов и пользователей тенанта)  
3)Частично заполненый шаблон "Request closure + Email template" - в шаблоне предоставлена формулировка для закрытия заявки которую так же можно дополнить ключами от созданных УЗ и использовать при отправке данных зашифрованным письмом
